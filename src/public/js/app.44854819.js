(function(t){function e(e){for(var i,r,n=e[0],c=e[1],l=e[2],p=0,u=[];p<n.length;p++)r=n[p],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&u.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(u.length)u.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],i=!0,n=1;n<s.length;n++){var c=s[n];0!==a[c]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=s[0]))}return t}var i={},a={app:0},o=[];function r(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=i,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var d=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},5662:function(t,e,s){"use strict";var i=s("93c6"),a=s.n(i);a.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[s("router-view")],1)],1)},o=[],r={props:{source:String},data:function(){return{}}},n=r,c=s("2877"),l=Object(c["a"])(n,a,o,!1,null,null,null),d=l.exports,p=s("8c4f"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{id:"inspire"}},[s("v-content",[s("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[s("v-card",{staticClass:"elevation-12"},[s("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[s("v-toolbar-title",[t._v("Login")]),s("v-spacer")],1),s("v-card-text",[!0===t.error?s("v-alert",{attrs:{dense:"",border:"left",type:"error"}},[t._v(" "+t._s(t.errorMsg)+" ")]):t._e(),s("v-form",[s("v-text-field",{attrs:{label:"Login",name:"login","prepend-icon":"person",type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"lock",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[s("v-btn",t._g({attrs:{color:"primary",dark:""},on:{click:function(e){return t.validate()}}},i),[t._v("login")])]}}])},[s("span",[t._v(" Para acceder como administrador use la siguientes credenciales: E-Mail: admin@gmail.com, password: 1234 ")])])],1)],1)],1)],1)],1)],1)],1)},v=[],h=(s("ac1f"),s("5319"),{beforeCreate:function(){this.$session.exists()&&this.$router.go(-1)},props:{source:String},data:function(){return{email:"",password:"",error:!1,errorMsg:""}},watch:{error:function(){var t=this;setTimeout((function(){t.error=!1}),2e3)}},methods:{validate:function(){var t=this.email.replace(/ /g,""),e=this.email.replace(/ /g,"");""===t||""===e?(this.error=!0,this.errorMsg="Los campos no pueden estar vacios"):this.login()},login:function(){var t=this;this.axios.post("/login",{email:this.email,password:this.password}).then((function(e){t.$session.start(),t.$session.set(e.data.auth,e.data.userData),"admin@gmail.com"===e.data.userData.email?t.$router.push("/dashboard"):t.$router.push("/dashboardUser")})).catch((function(e){t.error=!0,t.errorMsg=e.response.data.msg}))}}}),f=h,m=Object(c["a"])(f,u,v,!1,null,null,null),g=m.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-navigation-drawer",{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-container",{staticClass:"header",attrs:{fluid:""}},[s("span",[t._v("Digital Nets")])]),t._l(t.items,(function(e){return s("v-list-item",{key:e.id},[s("v-btn",{attrs:{text:"",color:"primary",block:""},on:{click:function(s){return t.itemState(e)}}},[s("v-icon",{staticClass:"mx-3"},[t._v(" "+t._s(e.icon)+" ")]),t._v(" "+t._s(e.title)+" ")],1)],1)}))],2),s("v-app-bar",{staticClass:"elevation-2",attrs:{app:"",light:""}},[s("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),s("v-toolbar-title",[t._v("Aplicación")])],1),s("v-content",{staticClass:"content"},[s("transition",{attrs:{name:"slide-fade"}},[!0===t.dashboard?s("v-container",{staticClass:" m-3"},[s("Dashboard")],1):t._e()],1),s("transition",{attrs:{name:"slide-fade"}},[!0===t.clients?s("v-container",{staticClass:"m-3"},[s("Clients")],1):t._e()],1),s("transition",{attrs:{name:"slide-fade"}},[!0===t.pro?s("v-container",{staticClass:"m-3"},[s("Profesional")],1):t._e()],1),s("transition",{attrs:{name:"slide-fade"}},[!0===t.proyectos?s("v-container",{staticClass:"m-3"},[s("ProyectosD")],1):t._e()],1),s("transition",{attrs:{name:"slide-fade"}},[!0===t.proyectosV?s("v-container",{staticClass:"m-3"},[s("ViewProyect")],1):t._e()],1)],1),s("v-footer",{staticClass:"footer",attrs:{app:""}},[s("span",[t._v("© 2020 Victor Naranjo")])])],1)},y=[],x=(s("a4d3"),s("4de4"),s("4160"),s("e439"),s("dbb4"),s("b64b"),s("159b"),s("2fa7")),_=s("2f62"),S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.clients,"sort-by":"calories"},scopedSlots:t._u([{key:"top",fn:function(){return[s("v-toolbar",{attrs:{flat:"",color:"white"}},[s("v-toolbar-title",[s("span",[t._v(" Clientes")])]),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),!0===t.alertState?s("v-alert",{attrs:{dense:"",text:"",type:"success"}},[t._v(" "+t._s(t.alertMsg)+" ")]):t._e(),!0===t.alertStateE?s("v-alert",{attrs:{dense:"",text:"",type:"error"}},[t._v(" "+t._s(t.alertMsg)+" ")]):t._e(),s("v-spacer"),s("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"busqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),s("v-spacer"),s("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[s("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},i),[t._v("Agregar Cliente")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),s("v-card-text",[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-text-field",{attrs:{label:"Apellido"},model:{value:t.editedItem.lastName,callback:function(e){t.$set(t.editedItem,"lastName",e)},expression:"editedItem.lastName"}})],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-text-field",{attrs:{label:"E-Mail"},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-text-field",{attrs:{label:"Telefono"},model:{value:t.editedItem.phone,callback:function(e){t.$set(t.editedItem,"phone",e)},expression:"editedItem.phone"}})],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-text-field",{attrs:{label:"Dirección"},model:{value:t.editedItem.direction,callback:function(e){t.$set(t.editedItem,"direction",e)},expression:"editedItem.direction"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var i=e.item;return[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v("edit")]),s("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(i)}}},[t._v("delete ")])]}}])})},C=[];s("c975"),s("a434"),s("b0c0");function O(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function P(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?O(Object(s),!0).forEach((function(e){Object(x["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):O(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var w={name:"Clients",data:function(){return{dialog:!1,headers:[{text:"Nombre",align:"left",sortable:!1,value:"name"},{text:"Apellido",value:"lastName"},{text:"E-Mail",value:"email"},{text:"Telefono",value:"phone"},{text:"Dirección",value:"direction"},{text:"Acciones",value:"action",sortable:!1}],clients:[],editedIndex:-1,alertState:!1,alertStateE:!1,alertMsg:"",search:"",editedItem:{name:"",lastName:"",email:"",phone:"",direction:""},defaultItem:{name:"",lastName:"",email:"",phone:"",direction:""}}},computed:P({formTitle:function(){return-1===this.editedIndex?"Agregar Cliente":"Editar Cliente"}},Object(_["c"])(["clientsState"])),watch:{dialog:function(t){t||this.close()},alertState:function(){setTimeout(this.alertStateF,3e3)},alertStateE:function(){setTimeout(this.alertStateError,3e3)}},created:function(){this.initialize()},methods:P({},Object(_["b"])(["clientsWatchPlus","clientsWatchLess"]),{alertStateF:function(){this.alertState=!1},alertStateError:function(){this.alertStateE=!1},initialize:function(){var t=this;this.axios.get("/clients").then((function(e){var s=e.data.clients;s.forEach((function(e){t.charge(e)}))})).catch((function(t){console.log(t.response)}))},charge:function(t){this.clients.push(t)},editItem:function(t){this.editedIndex=this.clients.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this,s=this.clients.indexOf(t);confirm("¿Estas seguro de eliminar este cliente?")&&(!0===t.asig?(this.alertStateE=!0,this.alertMsg="Este cliente posee un proyecto asignado, no puede eliminarlo"):this.axios.delete("clients/".concat(t.email)).then((function(t){e.clients.splice(s,1),e.alertState=!0,e.alertMsg=t.data.msg,e.clientsWatchLess()})).catch((function(t){e.alertStateE=!0,e.alertMsg="Ocurrio un error inesperado"})))},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},save:function(){var t=this;if(this.editedIndex>-1){var e=this.validate(this.editedItem);if(!0===e){this.editedItem.email;this.axios.put("clients/".concat(this.editedItem.email),{name:this.editedItem.name,lastName:this.editedItem.lastName,email:this.editedItem.email,phone:this.editedItem.phone,direction:this.editedItem.direction}).then((function(e){Object.assign(t.clients[t.editedIndex],t.editedItem),t.alertState=!0,t.alertMsg=e.data.msg})).catch((function(e){t.alertStateE=!0,t.alertMsg="No puedes modificar el E-Mail de contacto"}))}else this.alertStateE=!0,this.alertMsg="Los campos no pueden estar vacios",this.close}else{var s=this.validate(this.editedItem);!0===s?(this.axios.post("/signinClients",{name:this.editedItem.name,lastName:this.editedItem.lastName,email:this.editedItem.email,phone:this.editedItem.phone,direction:this.editedItem.direction}).then((function(e){t.clients.push(t.editedItem),t.alertState=!0,t.alertMsg=e.data.msg,t.clientsWatchPlus()})).catch((function(e){e.response.data.error.errors.email.message&&(t.alertStateE=!0,t.alertMsg="Por favor ingrese un E-Mail Valido")})),this.close()):(this.alertStateE=!0,this.alertMsg="Todos los campos son obigatorios")}},validate:function(t){var e=t.name.replace(/ /g,""),s=t.lastName.replace(/ /g,""),i=t.email.replace(/ /g,""),a=t.phone.replace(/ /g,""),o=t.direction.replace(/ /g,"");return""!==e&&""!==s&&""!==i&&""!==a&&""!==o}})},k=w,I=Object(c["a"])(k,S,C,!1,null,null,null),j=I.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{},[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-card",{staticClass:"mx-auto text-white",attrs:{"min-width":"344"}},[s("v-card",{staticClass:"mx-auto text-white subcard",attrs:{"min-width":"344",color:"primary"}},[s("v-card-text",[s("p",{staticClass:"display-1 text-white"},[t._v(" Clientes ")])])],1),s("v-card-text",[s("div",[t._v("Cantidad de clientes")]),s("p",{staticClass:"display-1 text--primary"},[t._v(" Clientes ")]),t._l(t.clientsState,(function(e){return s("div",{key:e.id},[t._v(" Clientes activos: "+t._s(t.clientAct)+"% "),s("v-divider"),t._v(" Total: "+t._s(e.total)+" "),s("v-divider",{attrs:{vertical:""}}),t._v(" Inactivos: "+t._s(t.clientInc)+"% ")],1)}))],2)],1)],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-card",{staticClass:"mx-auto text-white",attrs:{"min-width":"344"}},[s("v-card",{staticClass:"mx-auto text-white subcard",attrs:{"min-width":"344",color:"primary"}},[s("v-card-text",[s("p",{staticClass:"display-1 text-white"},[t._v(" Profesionales ")])])],1),s("v-card-text",[s("div",[t._v("Cantidad de Profesionales")]),s("p",{staticClass:"display-1 text--primary"},[t._v(" Profesionales ")]),t._l(t.professionalsState,(function(e){return s("div",{key:e.id},[t._v(" Profesionales activos % : "+t._s(t.proAct)+" "),s("v-divider"),t._v(" Total: "+t._s(e.total)+" "),s("v-divider",{attrs:{vertical:""}}),t._v(" Inactivos: "+t._s(t.proInc)+"% ")],1)}))],2)],1)],1)],1),s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("div",{staticClass:"my-5"},[s("p",{staticClass:"text-muted"},[t._v(" Proyectos finalizados ")]),s("v-progress-linear",{attrs:{color:"teal",height:"13",rounded:""},model:{value:t.proyectsFinB,callback:function(e){t.proyectsFinB=e},expression:"proyectsFinB"}},[t._v(" "+t._s(t.proyectsFinB)+"% ")])],1),s("div",{staticClass:"my-5"},[s("p",{staticClass:"text-muted"},[t._v(" Proyectos en curso ")]),s("v-progress-linear",{attrs:{color:"yellow",height:"13",rounded:""},model:{value:t.proyectsProgressBar,callback:function(e){t.proyectsProgressBar=e},expression:"proyectsProgressBar"}},[t._v(" "+t._s(t.proyectsProgressBar)+"% ")])],1),s("div",{staticClass:"my-5"},[s("p",{staticClass:"text-muted"},[t._v(" Proyectos en espera ")]),s("v-progress-linear",{attrs:{color:"error",height:"13",rounded:""},model:{value:t.proyectsSB,callback:function(e){t.proyectsSB=e},expression:"proyectsSB"}},[t._v(" "+t._s(t.proyectsSB)+"% ")])],1)])],1)],1)],1)},A=[];function M(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function D(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?M(Object(s),!0).forEach((function(e){Object(x["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):M(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var $={name:"Dashboard",computed:D({},Object(_["c"])(["clientsState","professionalsState"])),data:function(){return{clientAct:0,clientInc:0,proAct:0,proInc:0,proyectsFin:0,proyectsFinB:0,proyectsProgress:0,proyectsProgressBar:0,proyectsS:0,proyectsSB:0,totalP:0}},watch:{clientAct:function(){0!=this.clientsState[0].total?this.clientAct=Math.round(100*this.clientsState[0].activos/this.clientsState[0].total):this.clientAct=0},clientInc:function(){if(0===this.clientsState[0].total)this.clientInc=0;else{var t=this.clientsState[0].total-this.clientsState[0].activos;this.clientInc=Math.round(100*t/this.clientsState[0].total)}},proInc:function(){if(0===this.professionalsState[0].total)this.proInc=0;else{var t=this.professionalsState[0].total-this.professionalsState[0].activos;this.proInc=Math.round(100*t/this.professionalsState[0].total)}},proAct:function(){0===this.professionalsState[0].total?this.proAct=0:this.proAct=Math.round(100*this.professionalsState[0].activos/this.professionalsState[0].total)},proyectsProgress:function(){this.proyectsProgressBar=100*this.proyectsProgress/this.totalP},proyectsFin:function(){this.proyectsFinB=100*this.proyectsFin/this.totalP},proyectsS:function(){this.proyectsSB=100*this.proyectsS/this.totalP,console.log(this.totalP)}},created:function(){var t=this;if(0===this.clientsState[0].total)this.clientInc=0;else{var e=this.clientsState[0].total-this.clientsState[0].activos;this.clientInc=100*e/this.clientsState[0].total,0===this.clientsState[0].activos?this.clientAct=0:this.clientAct=100*this.clientsState[0].activos/this.clientsState[0].total}if(0===this.professionalsState[0].total)this.proInc=0;else{var s=this.professionalsState[0].total-this.professionalsState[0].activos;this.proInc=100*s/this.professionalsState[0].total,0===this.professionalsState[0].activos?this.proAct=0:this.proAct=100*this.professionalsState[0].activos/this.professionalsState[0].total}this.axios.get("/proyects").then((function(e){e.data.data.forEach((function(e){t.totalP++,e.percentage>0&&e.percentage<100&&t.proyectsProgress++,100===e.percentage&&t.proyectsFin++,0===e.percentage&&t.proyectsS++}))})).catch((function(t){console.log(t.response)}))}},N=$,T=(s("5662"),Object(c["a"])(N,E,A,!1,null,"693f198a",null)),B=T.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.professionals,"sort-by":"calories"},scopedSlots:t._u([{key:"top",fn:function(){return[s("v-toolbar",{attrs:{flat:"",color:"white"}},[s("v-toolbar-title",[s("span",[t._v(" Profesionales")])]),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),!0===t.alertState?s("v-alert",{attrs:{dense:"",text:"",type:"success"}},[t._v(" "+t._s(t.alertMsg)+" ")]):t._e(),!0===t.alertStateE?s("v-alert",{attrs:{dense:"",text:"",type:"error"}},[t._v(" "+t._s(t.alertMsg)+" ")]):t._e(),s("v-spacer"),s("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"busqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),s("v-spacer"),s("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[s("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},i),[t._v("Agregar Profesional")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),s("v-card-text",[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-text-field",{attrs:{label:"Apellido"},model:{value:t.editedItem.lastName,callback:function(e){t.$set(t.editedItem,"lastName",e)},expression:"editedItem.lastName"}})],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-text-field",{attrs:{label:"E-Mail"},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-text-field",{attrs:{label:"profesion"},model:{value:t.editedItem.profesion,callback:function(e){t.$set(t.editedItem,"profesion",e)},expression:"editedItem.profesion"}})],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-text-field",{attrs:{label:"password"},model:{value:t.editedItem.password,callback:function(e){t.$set(t.editedItem,"password",e)},expression:"editedItem.password"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var i=e.item;return[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v("edit")]),s("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(i)}}},[t._v("delete ")])]}}])})},W=[];function L(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function V(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?L(Object(s),!0).forEach((function(e){Object(x["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):L(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var U={name:"Clients",data:function(){return{dialog:!1,headers:[{text:"Nombre",align:"left",sortable:!1,value:"name"},{text:"Apellido",value:"lastName"},{text:"E-Mail",value:"email"},{text:"Role",value:"role"},{text:"Profesion",value:"profesion"},{text:"Acciones",value:"action",sortable:!1}],professionals:[],editedIndex:-1,alertState:!1,alertStateE:!1,alertMsg:"",search:"",editedItem:{name:"",lastName:"",email:"",profesion:"",password:"",role:"user"},defaultItem:{name:"",lastName:"",email:"",profesion:"",password:"",role:"user"}}},computed:{formTitle:function(){return-1===this.editedIndex?"Agregar Profesional":"Editar Profesional"}},watch:{dialog:function(t){t||this.close()},alertState:function(){setTimeout(this.alertStateF,3e3)},alertStateE:function(){setTimeout(this.alertStateError,3e3)}},created:function(){this.initialize()},methods:V({},Object(_["b"])(["professionalWatchPlus","professionalWatchLess"]),{alertStateF:function(){this.alertState=!1},alertStateError:function(){this.alertStateE=!1},initialize:function(){var t=this;this.axios.get("/professionals").then((function(e){var s=e.data.users;s.forEach((function(e){t.charge(e)}))})).catch((function(t){console.log(t.response)}))},charge:function(t){this.professionals.push(t)},editItem:function(t){t.password="",this.editedIndex=this.professionals.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this,s=this.professionals.indexOf(t);if(confirm("¿Estas seguro de eliminar este cliente?")){if("admin"===t.role)return this.alertStateE=!0,this.alertMsg="El administrador no puede ser eliminado mediante esta interfaz",!1;if(!0===t.asig)return this.alertStateE=!0,this.alertMsg="Este profesional posee un proyecto asginado, debe cancelar el proyecto o finalizarlo",!1;this.axios.delete("professionals/".concat(t.email)).then((function(t){e.professionals.splice(s,1),e.alertState=!0,e.alertMsg=t.data.msg,e.professionalWatchLess()})).catch((function(t){e.alertStateE=!0,e.alertMsg="Ocurrio un error inesperado"}))}},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},save:function(){var t=this;if(this.editedIndex>-1){var e=this.validate(this.editedItem);if(!0===e){this.editedItem.email;this.axios.put("professionals/".concat(this.editedItem.email),{name:this.editedItem.name,lastName:this.editedItem.lastName,email:this.editedItem.email,profesion:this.editedItem.profesion,role:this.editedItem.role}).then((function(e){Object.assign(t.professionals[t.editedIndex],t.editedItem),t.alertState=!0,t.alertMsg=e.data.msg})).catch((function(e){t.alertStateE=!0,t.alertMsg="No puedes modificar el E-Mail de contacto"}))}else this.alertStateE=!0,this.alertMsg="Los campos no pueden estar vacios",this.close}else{var s=this.validate(this.editedItem);!0===s?(this.axios.post("/signin",{name:this.editedItem.name,lastName:this.editedItem.lastName,email:this.editedItem.email,profesion:this.editedItem.profesion,password:this.editedItem.password,role:this.editedItem.role}).then((function(e){t.professionals.push(t.editedItem),t.alertState=!0,t.alertMsg=e.data.msg,t.professionalWatchPlus()})).catch((function(e){t.alertStateE=!0,t.alertMsg="Por favor ingrese un E-Mail Valido"})),this.close()):(this.alertStateE=!0,this.alertMsg="Todos los campos son obigatorios")}},validate:function(t){var e=t.name.replace(/ /g,""),s=t.lastName.replace(/ /g,""),i=t.email.replace(/ /g,""),a=t.profesion.replace(/ /g,""),o=t.password.replace(/ /g,""),r=t.role.replace(/ /g,"");return""!==e&&""!==s&&""!==i&&""!==a&&""!==r&&""!==o}})},z=U,q=Object(c["a"])(z,F,W,!1,null,null,null),J=q.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-stepper",{attrs:{vertical:""},model:{value:t.e6,callback:function(e){t.e6=e},expression:"e6"}},[s("div",{staticClass:"p-3"},[!0===t.alert?s("v-alert",{attrs:{dense:"",text:"",type:"error"}},[t._v(" "+t._s(t.alertMsg)+" ")]):t._e(),!0===t.alertS?s("v-alert",{attrs:{dense:"",text:"",type:"success"}},[t._v(" "+t._s(t.alertSM)+" ")]):t._e()],1),s("v-stepper-step",{attrs:{complete:t.e6>1,step:"1"}},[t._v(" Definir proyecto "),s("small",[t._v("Titulo Y descripción del mismo")])]),s("v-stepper-content",{attrs:{step:"1"}},[s("v-card",{staticClass:"mb-12 px-5 ",attrs:{color:"",height:"100%"}},[s("v-text-field",{attrs:{label:"Titulo"},model:{value:t.items1.title,callback:function(e){t.$set(t.items1,"title",e)},expression:"items1.title"}}),s("v-text-field",{attrs:{label:"Precio"},model:{value:t.items1.price,callback:function(e){t.$set(t.items1,"price",e)},expression:"items1.price"}}),s("v-textarea",{attrs:{label:"Descripcion"},model:{value:t.items1.description,callback:function(e){t.$set(t.items1,"description",e)},expression:"items1.description"}})],1),s("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.StepOne()}}},[t._v("Continue")]),s("v-btn",{attrs:{text:""}},[t._v("Cancel")])],1),s("v-stepper-step",{attrs:{complete:t.e6>2,step:"2"}},[t._v("Asignar Cliente")]),s("v-stepper-content",{attrs:{step:"2"}},[s("v-card",{staticClass:"mb-12 px-5 ",attrs:{color:"",height:"200px"}},[s("v-row",[s("v-col",{attrs:{cols:"1"}},[s("v-dialog",{attrs:{scrollable:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){e.on;return[s("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.dialog1=!0}}},[t._v("+")])]}}]),model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[s("v-card",[s("v-card-title",[t._v("Seleciona un cliente")]),s("v-divider"),s("v-card-text",{staticStyle:{height:"300px"}},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.clients,"single-select":t.singleSelect,search:t.search,"item-key":"email","show-select":""},scopedSlots:t._u([{key:"top",fn:function(){return[s("div",{staticClass:"px-5"},[s("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"busqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),s("v-divider"),s("v-card-actions",[s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog1=!1}}},[t._v("Close")]),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.clientA()}}},[t._v("Save")])],1)],1)],1)],1),s("v-col",{staticClass:"text-center",attrs:{cols:"11"}},[!0===t.clientBool?s("v-chip",{staticClass:"ma-2",attrs:{close:"",color:"primary","text-color":"white","close-icon":"mdi-delete"},on:{click:function(e){return t.EliminClient()}}},[s("v-avatar",{attrs:{left:""}},[s("v-icon",[t._v("mdi-checkbox-marked-circle")])],1),t._v(" "+t._s(t.clientAsig.name)+" ")],1):t._e()],1)],1)],1),s("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.stepTwo()}}},[t._v("Continue")]),s("v-btn",{attrs:{text:""}},[t._v("Cancel")])],1),s("v-stepper-step",{attrs:{complete:t.e6>3,step:"3"}},[t._v("Asignar Profesionales")]),s("v-stepper-content",{attrs:{step:"3"}},[s("v-card",{staticClass:"mb-12",attrs:{color:"",height:"200px"}},[s("v-row",[s("v-col",{attrs:{cols:"1"}},[s("v-dialog",{attrs:{scrollable:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){e.on;return[s("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.dialog2=!0}}},[t._v("+")])]}}]),model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[s("v-card",[s("v-card-title",[t._v("Seleciona un Profesional")]),s("v-divider"),s("v-card-text",{staticStyle:{height:"300px"}},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers2,items:t.professionals,"single-select":t.singleSelect,search:t.search,"item-key":"email","show-select":""},scopedSlots:t._u([{key:"top",fn:function(){return[s("div",{staticClass:"px-5"},[s("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"busqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0}]),model:{value:t.selected2,callback:function(e){t.selected2=e},expression:"selected2"}})],1),s("v-divider"),s("v-card-actions",[s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog2=!1}}},[t._v("Close")]),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.professionalAsign()}}},[t._v("Save")])],1)],1)],1)],1),s("v-col",{staticClass:"text-center",attrs:{cols:"11"}},[!0===t.protBool?s("div",t._l(t.professionalAsig,(function(e){return s("v-chip",{key:e.id,staticClass:"ma-2",attrs:{close:"",color:"primary","text-color":"white","close-icon":"mdi-delete"},on:{click:function(s){return t.elimPro(e)}}},[s("v-avatar",{attrs:{left:""}},[s("v-icon",[t._v("mdi-checkbox-marked-circle")])],1),t._v(" "+t._s(e.name)+" ")],1)})),1):t._e()])],1)],1),s("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.stepThre()}}},[t._v("Continue")]),s("v-btn",{attrs:{text:""}},[t._v("Cancel")])],1),s("v-stepper-step",{attrs:{step:"4"}},[t._v("Definir actividades para la culminación del mismo")]),s("v-stepper-content",{attrs:{step:"4"}},[s("v-card",{staticClass:"mb-12",attrs:{color:"",height:"100%"}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-dialog",{attrs:{persistent:"","max-width":"290"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[s("v-btn",t._g({attrs:{color:"primary",dark:"",block:""}},i),[t._v("+ Agregar Actividad")])]}}]),model:{value:t.dialog3,callback:function(e){t.dialog3=e},expression:"dialog3"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v("Actividad")]),s("v-card-text",[s("div",{staticClass:"px-5"},[s("v-text-field",{attrs:{label:"Titulo"},model:{value:t.activity.title,callback:function(e){t.$set(t.activity,"title",e)},expression:"activity.title"}})],1),s("div",{staticClass:"px-5"},[s("v-text-field",{attrs:{label:"Porcetaje representativo",type:"number"},model:{value:t.activity.percentage,callback:function(e){t.$set(t.activity,"percentage",e)},expression:"activity.percentage"}})],1),s("div",{staticClass:"px-5"},[s("v-textarea",{attrs:{label:"Descripción"},model:{value:t.activity.description,callback:function(e){t.$set(t.activity,"description",e)},expression:"activity.description"}})],1)]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog3=!1}}},[t._v("Cerrar")]),s("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.activityA()}}},[t._v("Agregar")])],1)],1)],1)],1),s("v-col",{attrs:{cols:"12"}},[s("v-row",{staticClass:"px-2"},t._l(t.activitys,(function(e){return s("v-col",{key:e.id,attrs:{cols:"4"}},[!0===t.ActiBool?s("v-card",[s("v-card-text",[s("div",{staticClass:"p-1 text-center"},[s("h4",[t._v(" "+t._s(e.title)+" ")])]),s("div",{staticClass:"p-2 text-center"},[s("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[s("v-btn",t._g({attrs:{color:"primary",text:""}},i),[t._v("Descripción")])]}}],null,!0)},[s("span",[t._v(" "+t._s(e.description)+" ")])])],1),s("div",{staticClass:"p-2"},[s("v-progress-linear",{attrs:{color:"primary",rounded:"",value:"0",height:"13"}},[t._v("0%")])],1),s("div",{staticClass:"text-right"},[s("v-btn",{attrs:{color:"primary",block:""},on:{click:function(s){return t.elimActivity(e)}}},[t._v("Eliminar")])],1)])],1):t._e()],1)})),1)],1)],1)],1),s("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.stepFor()}}},[t._v("Continue")]),s("v-btn",{attrs:{text:""}},[t._v("Cancel")])],1)],1)},Y=[];s("e01a");function G(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function H(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?G(Object(s),!0).forEach((function(e){Object(x["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):G(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var K={name:"ProyectosD",data:function(){return{e6:1,alertMsg:"",alert:!1,alertSM:"",alertS:!1,dialog:!1,dialog1:!1,dialog2:!1,dialog3:!1,singleSelect:!0,clientBool:!1,protBool:!1,ActiBool:!1,clientCount:0,professionalCount:0,activitysCount:0,search:"",selected:[],selected2:[],clientAsig:{name:"",email:""},activity:{title:"",description:"",percentage:0},professionalAsig:[],professionalArray:[],idProyects:[],proyecto:[],headers:[{text:"Nombre",align:"left",sortable:!1,value:"name"},{text:"E-Mail",value:"email"}],headers2:[{text:"Nombre",align:"left",sortable:!1,value:"name"},{text:"E-Mail",value:"email"}],clients:[],professionals:[],activitys:[],items1:{title:"",description:"",price:0},idPro:""}},created:function(){var t=this;this.axios.get("/clients").then((function(e){var s=e.data.clients;s.forEach((function(e){t.charge(e)}))})).catch((function(t){console.log(t.response)})),this.axios.get("/professionals").then((function(e){var s=e.data.users;s.forEach((function(e){t.charge2(e)}))})).catch((function(t){console.log(t.response)}))},watch:{alert:function(){setTimeout(this.alertState,2e3)},alertS:function(){setTimeout(this.alertStateS,2e3)}},methods:H({},Object(_["b"])(["clientsAct","professionalAct"]),{StepOne:function(){var t=this.items1.title.replace(/ /g,""),e=this.items1.description.replace(/ /g,""),s=this.items1.price;if(""===t||""===e||0===s)return this.alertMsg="Todos los campos son obligatorios",this.alert=!0,!1;this.e6=2},stepTwo:function(){if(0===this.clientCount)return this.alertMsg="Debe selecionar un cliente para continuar",this.alert=!0,!1;this.e6=3,this.clientBool=!1},stepThre:function(){if(0===this.professionalCount)return this.alertMsg="Debes Asignar Profesionales al Proyecto",this.alert=!1,!1;this.e6=4,this.protBool=!1},stepFor:function(){var t=this;if(0===this.activitysCount)return this.alertMsg="Debe Ingresar al menos una actividad",this.alert=!0,!1;this.axios.post("/proyects",{title:this.items1.title,description:this.items1.description,client:this.clientAsig._id,professionals:this.professionalArray,activities:this.activitys,price:this.items1.price,professionalCount:this.professionalCount,clientCount:this.clientCount,activitysCount:this.activitysCount}).then((function(e){t.idPro=e.data.proyect._id,t.pushClient(t.clientAsig),t.items1={title:"",description:""},t.clientAsig={name:"",email:""},t.professionalAsig.forEach((function(e){t.pushId(e)})),t.ActiBool=!1,t.alertS=!0,t.alertSM="Proyecto creado con exito",t.clientsAct()})).catch((function(e){t.alertMsg="Estamos en mantenimiento",t.alert=!0}))},alertState:function(){this.alert=!1},alertStateS:function(){this.alertS=!1},clientA:function(){return 0===this.selected.length?(this.alertMsg="Debe selecionar Un cliente",this.alert=!0,this.dialog1=!1):!0===this.selected[0].asig?(this.alertMsg="Este cliente ya posee un proyecto asignado",this.alert=!0,!1):(this.selected[0].asig=!0,this.clientAsig=this.selected[0],this.clientBool=!0,this.clientCount=1,void(this.dialog1=!1))},EliminClient:function(){confirm("¿Estas seguro de eliminar este cliente? Todo proyecto necesita un cliente...")&&(this.clientAsig="",this.clientBool=!1,this.clientCount=0)},charge:function(t){this.clients.push(t)},charge2:function(t){this.professionals.push(t)},professionalAsign:function(){if(0===this.selected2.length)return this.alertMsg="Debes seleccionar por lo menos a un profesional",this.alert=!0,this.dialog2=!1;"admin"===this.selected2[0].role?(this.alertMsg="El administrador no puede ser seleccionado para un proyecto",this.alert=!0):(this.protBool=!0,this.professionalAsig.push(this.selected2[0]),this.professionalArray.push(this.selected2[0]._id),this.professionalCount++,this.dialog2=!1)},elimPro:function(t){if(confirm("¿Estas seguro de eliminar este Profesional?")){var e=this.professionalAsig.indexOf(t);this.professionalAsig.splice(e,1),this.professionalCount--}},activityA:function(){var t=this.activity.title.replace(/ /g,""),e=this.activity.description.replace(/ /g,"");if(""===t||""===e||0===this.activity.percentage)return this.alertMsg="todos los campos son obligatorios",this.alert=!0,this.activity.title="",this.activity.description="",this.dialog3=!1;this.ActiBool=!0,this.activitys.push(this.activity),this.activity={title:"",descripcion:"",percentage:0},this.activitysCount++,this.dialog3=!1},elimActivity:function(t){if(confirm("¿Estas seguro de eliminar esta Actividad?")){var e=this.activitys.indexOf(t);this.activitys.splice(e,1),this.activitysCount--}},pushId:function(t){var e=this;this.axios.get("/professionals").then((function(s){s.data.users.forEach((function(s){s.email===t.email&&(e.idProyects=s.proyects,e.idProyects.push(e.idPro),e.axios.put("professionals/".concat(s.email),{name:s.name,lastName:s.lastName,email:s.email,profesion:s.profesion,role:s.role,asig:!0,proyects:e.idProyects}),!1===s.asig&&e.professionalAct())}))})).catch((function(t){console.log(t.response)}))},pushClient:function(t){this.axios.put("clients/".concat(t.email),t).then((function(t){console.log("exito")})).catch((function(t){}))}})},Q=K,X=Object(c["a"])(Q,R,Y,!1,null,null,null),Z=X.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-row",{staticClass:"px-2"},t._l(t.items,(function(e){return s("v-col",{key:e.id,attrs:{cosl:"12",sm:"6",md:"6"}},[s("v-card",{staticClass:"mx-auto elevation-1",attrs:{"max-width":"400",outlined:""}},[s("v-list-item",{attrs:{"three-line":""}},[s("v-list-item-content",[s("div",{staticClass:"overline mb-4"},[t._v("Digital Nets")]),s("v-list-item-title",{staticClass:"headline mb-1"},[t._v(t._s(e.title))])],1)],1),s("v-dialog",{attrs:{"max-width":"600"},model:{value:e.dialog,callback:function(s){t.$set(e,"dialog",s)},expression:"item.dialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(e.title)+" ")]),s("v-card-text",[s("div",{staticClass:"m-3"},[t._v(" "+t._s(e.description)+" ")]),s("div",{staticClass:"m-3"},[t._v(" Progreso "),s("div",{staticClass:"m-1"},[s("v-progress-linear",{attrs:{color:"primary",height:"13",rounded:""},model:{value:e.percentage,callback:function(s){t.$set(e,"percentage",s)},expression:"item.percentage"}},[t._v(" "+t._s(e.percentage)+"% ")])],1),s("div",{staticClass:"m-1"},[t._v(" costo: "+t._s(e.price)+"$ ")]),s("div",{staticClass:"m-1"},[s("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[s("span",t._g({},a),[t._v(" Profesionales Asignados: "+t._s(e.professionalsCount)+" ")])]}}],null,!0)},t._l(e.professionals,(function(e){return s("span",{key:e.id},[s("div",[s("p",[t._v(" "+t._s(e.name)+" - "+t._s(e.profesion)+" - "+t._s(e.email)+" ")])])])})),0)],1),s("div",{staticClass:"m-1"},[t._v(" Cliente asignado: "+t._s(e.client.name)+" - "+t._s(e.client.email)+" ")])])]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialog2=!e.dialog2}}},[t._v("Ver Actividades")]),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialog=!1}}},[t._v("Salir")])],1)],1)],1),s("v-dialog",{attrs:{"max-width":"400"},model:{value:e.dialog2,callback:function(s){t.$set(e,"dialog2",s)},expression:"item.dialog2"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v("Actividades")]),s("v-card-text",t._l(e.activitys,(function(e){return s("div",{key:e.id},[s("h6",[t._v(" "+t._s(e.title)+" ")]),s("p",[t._v(" "+t._s(e.description)+" ")]),s("p",[t._v(" porcentaje representativo: "+t._s(e.percentage)+" % ")]),!1===e.state?s("p",[t._v(" Estado: En progreso ")]):t._e(),!0===e.state?s("p",[t._v(" Estado: Finalizada ")]):t._e(),s("v-divider")],1)})),0),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialog2=!1}}},[t._v("Salir")])],1)],1)],1),s("v-card-actions",[s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialog=!e.dialog}}},[t._v("Detalles")]),!1===e.finish?s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(s){return t.elimPro(e)}}},[t._v("Cancelar Proyecto")]):t._e(),!0===e.finish?s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(s){return t.DeletePro(e)}}},[t._v("Borrar Proyecto Finalizado")]):t._e()],1)],1)],1)})),1)],1)},et=[];function st(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function it(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?st(Object(s),!0).forEach((function(e){Object(x["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):st(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var at={name:"ViewProyect",data:function(){return{dialog:!1,dialog2:!1,items:[]}},created:function(){var t=this;this.axios.get("/proyects").then((function(e){var s=e.data.data;s.forEach((function(e){t.charge(e)}))})).catch((function(t){console.log(t.response)}))},methods:it({},Object(_["b"])(["clientsActLess","professionalActLess"]),{charge:function(t){this.items.push({title:t.title,description:t.description,percentage:t.percentage,finish:t.finish,price:t.price,client:{name:t.client.name,email:t.client.email},professionals:t.professionals,activitys:t.activities,clientsCount:t.clientCount,professionalsCount:t.professionalCount,activitysCount:t.activitysCount,id:t._id,dialog:!1,dialog2:!1})},elimPro:function(t){var e=this;if(confirm("¿Estas seguro de eliminar este Proyecto?")){var s=t.professionals;s.forEach((function(s){var i=s.proyects.indexOf(t.id);s.proyects.splice(i,1),0===s.proyects.length?(e.axios.put("professionals/".concat(s.email),{name:s.name,lastName:s.lastName,email:s.email,profesion:s.profesion,role:s.role,asig:!1,proyects:s.proyects}).then((function(s){e.axios.delete("proyects/".concat(t.id)).then((function(s){var i=e.items.indexOf(t);e.items.splice(i,1),e.clientsActLess(),e.UpdateClient(t)})).catch((function(t){console.log(t.response)}))})).catch((function(t){console.log(t.response)})),e.professionalActLess()):e.axios.put("professionals/".concat(s.email),{name:s.name,lastName:s.lastName,email:s.email,profesion:s.profesion,role:s.role,asig:!0,proyects:s.proyects}).then((function(s){e.axios.delete("proyects/".concat(t.id)).then((function(s){var i=e.items.indexOf(t);e.items.splice(i,1),e.clientsActLess(),e.UpdateClient(t)})).catch((function(t){console.log(t.response)}))})).catch((function(t){console.log(t.response)}))}))}},DeletePro:function(t){var e=this;confirm("¿Estas seguro de borrar este Proyecto?")&&this.axios.delete("proyects/".concat(t.id)).then((function(s){var i=e.items.indexOf(t);e.items.splice(i,1),e.clientsActLess(),e.UpdateClient(t)})).catch((function(t){console.log(t.response)}))},UpdateClient:function(t){var e=this;this.axios.get("/clients").then((function(s){s.data.clients.forEach((function(s){s.email===t.client.email&&(s.asig=!1,e.axios.put("clients/".concat(s.email),s).then((function(t){console.log("exito")})).catch((function(t){console.log(t.response)})))}))})).catch((function(t){console.log(t.response)}))}})},ot=at,rt=Object(c["a"])(ot,tt,et,!1,null,null,null),nt=rt.exports;function ct(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function lt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(s),!0).forEach((function(e){Object(x["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ct(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var dt={beforeCreate:function(){this.$session.exists()||this.$router.push("/");var t=this.$session.getAll();"admin@gmail.com"===!t.true.email&&this.$router.push("/dashboardUser")},components:{Clients:j,Dashboard:B,Profesional:J,ProyectosD:Z,ViewProyect:nt},props:{source:String},data:function(){return{drawer:null,dashboard:!1,clients:!1,pro:!1,proyectos:!1,proyectosV:!1,items:[{icon:"mdi-view-dashboard",title:"Dashboard"},{icon:"mdi-account-group-outline",title:"Clientes"},{icon:"mdi-account-group-outline",title:"Profesionales"},{icon:"folder_open",title:"Definir Proyecto"},{icon:"folder_open",title:"Ver Proyectos"},{icon:"mdi-arrow-up-bold-box-outline",title:"Cerrar Sesion"}]}},computed:lt({},Object(_["c"])(["clientsState","professionalsState"])),methods:lt({itemState:function(t){"Dashboard"==t.title&&(this.dashboard=!this.dashboard,this.clients=!1,this.pro=!1,this.proyectos=!1,this.proyectosV=!1),"Clientes"==t.title&&(this.clients=!this.clients,this.dashboard=!1,this.pro=!1,this.proyectos=!1,this.proyectosV=!1),"Profesionales"==t.title&&(this.pro=!this.pro,this.clients=!1,this.dashboard=!1,this.proyectos=!1,this.proyectosV=!1),"Definir Proyecto"==t.title&&(this.proyectos=!this.proyectos,this.clients=!1,this.dashboard=!1,this.pro=!1,this.proyectosV=!1),"Ver Proyectos"==t.title&&(this.proyectosV=!this.proyectosV,this.clients=!1,this.dashboard=!1,this.proyectos=!1,this.pro=!1),"Cerrar Sesion"==t.title&&(this.$session.destroy(),this.$router.push("/"))}},Object(_["b"])(["clientsWatchPlus","professionalWatchPlus","clientsAct","clientsActInit","clientsWatchInit","professionalAct","professionalWatchInit","professionalActInit"])),created:function(){var t=this;this.axios.get("/clients").then((function(e){t.clientsWatchInit();var s=e.data.clients;s.forEach((function(e){t.clientsWatchPlus()}))})).catch((function(t){console.log(t.response)})),this.axios.get("/professionals").then((function(e){t.professionalWatchInit(),t.professionalActInit();var s=e.data.users;s.forEach((function(e){!0===e.asig&&t.professionalAct(),t.professionalWatchPlus()}))})).catch((function(t){console.log("error")})),this.axios.get("/proyects").then((function(e){t.clientsActInit();var s=e.data.data;s.forEach((function(e){t.clientsAct()}))})).catch((function(t){console.log(t.response)}))}},pt=dt,ut=(s("b5b5"),Object(c["a"])(pt,b,y,!1,null,"6eb98ce4",null)),vt=ut.exports,ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-navigation-drawer",{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-container",{staticClass:"header",attrs:{fluid:""}},[s("span",[t._v("Digital Nets")])]),t._l(t.items,(function(e){return s("v-list-item",{key:e.id},[s("v-btn",{attrs:{text:"",color:"primary",block:""},on:{click:function(s){return t.itemState(e)}}},[s("v-icon",{staticClass:"mx-3"},[t._v(" "+t._s(e.icon)+" ")]),t._v(" "+t._s(e.title)+" ")],1)],1)}))],2),s("v-app-bar",{staticClass:"elevation-2",attrs:{app:"",light:""}},[s("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),s("v-toolbar-title",[t._v(" "+t._s(t.userName)+" ")])],1),s("v-content",{staticClass:"content"},[s("transition",{attrs:{name:"slide-fade"}},[!0===t.dash?s("v-container",{staticClass:"m-3"},[s("DashboardU")],1):t._e()],1)],1),s("v-footer",{staticClass:"footer",attrs:{app:""}},[s("span",[t._v("© 2020 Victor Naranjo")])])],1)},ft=[],mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:""}},[s("v-row",t._l(t.proyects,(function(e){return s("v-col",{key:e.id,attrs:{cols:"12"}},[!0===t.alertStateE?s("v-alert",{attrs:{dense:"",text:"",type:"error"}},[t._v(" "+t._s(t.alertMsg)+" ")]):t._e(),s("v-card",{staticClass:"mx-auto",attrs:{"max-width":"100%"}},[s("v-card-text",[s("h2",[t._v(" "+t._s(e.title)+" ")]),s("p",[t._v(" "+t._s(e.description)+" ")]),s("p",[t._v(" Progeso: "),s("v-progress-linear",{attrs:{color:"primary",height:"13",rounded:""},model:{value:e.percentage,callback:function(s){t.$set(e,"percentage",s)},expression:"item.percentage"}},[t._v(" "+t._s(e.percentage)+"% ")])],1),t._l(e.activities,(function(e){return s("v-card",{key:e.id,staticClass:"mx-auto",attrs:{"max-width":"100%"}},[s("v-card-text",[s("h4",[t._v(" "+t._s(e.title)+" ")]),s("p",[t._v(" "+t._s(e.description)+" ")]),s("p",[!1===e.state?s("v-progress-linear",{attrs:{color:"primary",height:"13",rounded:""}},[t._v(" 0% ")]):t._e(),!0===e.state?s("v-progress-linear",{attrs:{color:"primary",height:"13",rounded:"",value:"100"}},[t._v(" 100% ")]):t._e()],1),s("v-checkbox",{attrs:{label:"Terminar tarea:"},model:{value:e.state,callback:function(s){t.$set(e,"state",s)},expression:"act.state"}})],1)],1)}))],2),!1===e.finish?s("div",{staticClass:"text-right"},[s("v-btn",{staticClass:"m-3",attrs:{color:"primary"},on:{click:function(s){return t.proyect(e)}}},[t._v("Actualizar Proyecto")]),s("v-btn",{staticClass:"m-3",attrs:{color:"primary"},on:{click:function(s){return t.finProyect(e)}}},[t._v("Terminar Proyecto")])],1):t._e()],1)],1)})),1)],1)},gt=[],bt={name:"DashboardU",data:function(){return{proyects:[],activities:[],alertStateE:!1,alertMsg:""}},created:function(){var t=this,e=this.$session.getAll();this.axios.get("/proyects").then((function(s){s.data.data.forEach((function(s){s.professionals.forEach((function(i){i.email===e.true.email&&t.proyects.push(s)}))}))})).catch((function(t){console.log(t.response)}))},watch:{proyects:function(){if(0===this.proyects.length){var t=this.$session.getAll();t.true.asig=!1,this.axios.put("professionals/".concat(t.true.email),t.true).then((function(t){})).catch((function(t){console.log(t.response)}))}},alertStateE:function(){var t=this;setTimeout((function(){t.alertStateE=!1}),2e3)}},methods:{proyect:function(t){var e=0;this.activities=t.activities,this.activities.forEach((function(t){!0===t.state&&(e+=t.percentage)})),t.percentage=e,this.axios.put("proyects/".concat(t._id),t).then((function(t){})).catch((function(t){console.log(t.response)}))},finProyect:function(t){var e=this;if(100===t.percentage){var s=this.proyects.indexOf(t);console.log(s),t.finish=!0,this.axios.put("proyects/".concat(t._id),t).then((function(t){e.proyects.splice(s,1)})).catch((function(t){console.log(t.response)}))}else this.alertStateE=!0,this.alertMsg="el proyecto debe estar completado al 100%"}}},yt=bt,xt=Object(c["a"])(yt,mt,gt,!1,null,null,null),_t=xt.exports,St={beforeCreate:function(){this.$session.exists()||this.$router.push("/");var t=this.$session.getAll();"admin@gmail.com"===t.true.email&&this.$router.push("/dashboard")},created:function(){var t=this.$session.getAll();this.userName=t.true.name},components:{DashboardU:_t},props:{source:String},data:function(){return{drawer:null,dash:!1,userName:"",items:[{icon:"mdi-view-dashboard",title:"Dashboard"},{icon:"mdi-arrow-up-bold-box-outline",title:"Cerrar Sesion"}]}},methods:{itemState:function(t){"Dashboard"==t.title&&(this.dash=!this.dash),"Cerrar Sesion"==t.title&&(this.$session.destroy(),this.$router.push("/"))}}},Ct=St,Ot=(s("8be0"),Object(c["a"])(Ct,ht,ft,!1,null,"cdbf61cc",null)),Pt=Ot.exports;i["default"].use(p["a"]);var wt=[{path:"/",name:"home",component:g},{path:"/dashboard",name:"dashboard",component:vt},{path:"/dashboardUser",name:"dashboardUser",component:Pt}],kt=new p["a"]({mode:"history",base:"/",routes:wt}),It=kt;i["default"].use(_["a"]);var jt=new _["a"].Store({state:{clientsState:[{total:0,activos:0,inactivos:0}],professionalsState:[{total:0,activos:0,inactivos:0}]},mutations:{clientsWatchPlus:function(t){t.clientsState[0].total++},clientsWatchInit:function(t){t.clientsState[0].total=0},clientsAct:function(t){t.clientsState[0].activos++},clientsActInit:function(t){t.clientsState[0].activos=0},clientsActLess:function(t){t.clientsState[0].activos--},clientsWatchLess:function(t){t.clientsState[0].total--},professionalAct:function(t){t.professionalsState[0].activos++},professionalActInit:function(t){t.professionalsState[0].activos=0},professionalActLess:function(t){t.professionalsState[0].activos--},professionalWatchPlus:function(t){t.professionalsState[0].total++},professionalWatchInit:function(t){t.professionalsState[0].total=0},professionalWatchLess:function(t){t.professionalsState[0].total--}},actions:{},modules:{}}),Et=s("ce5b"),At=s.n(Et);s("bf40");i["default"].use(At.a);var Mt=new At.a({theme:{options:{customProperties:!0},themes:{light:{primary:"#3A539B",secondary:"#141E30",accent:"#141E30",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},icons:{iconfont:"md"}}),Dt=s("0628"),$t=s.n(Dt),Nt=(s("d5e8"),s("d1e78"),s("bc3a")),Tt=s.n(Nt),Bt=s("a7fe"),Ft=s.n(Bt);i["default"].use(Ft.a,Tt.a),Tt.a.defaults.baseURL="https://gestor-proyectos-uneweb.herokuapp.com/api",i["default"].config.productionTip=!1;var Wt={persist:!0};i["default"].use($t.a,Wt),new i["default"]({router:It,store:jt,vuetify:Mt,render:function(t){return t(d)}}).$mount("#app")},"8be0":function(t,e,s){"use strict";var i=s("afb5"),a=s.n(i);a.a},"93c6":function(t,e,s){},afb5:function(t,e,s){},b5b5:function(t,e,s){"use strict";var i=s("f652"),a=s.n(i);a.a},f652:function(t,e,s){}});
//# sourceMappingURL=app.44854819.js.map